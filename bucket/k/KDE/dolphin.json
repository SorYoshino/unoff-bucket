{
    "version": "25.12-7047",
    "description": "A file manager developed by KDE that lets you navigate and browse the contents of your hard drives, USB sticks, SD cards, and more.",
    "homepage": "https://apps.kde.org/dolphin/",
    "license": {
        "identifier": "GPL-2.0-or-later",
        "url": "https://invent.kde.org/system/dolphin/-/blob/HEAD/COPYING"
    },
    "notes": [
        "- 'Move to trash' is not working in the KDE Dolphin for Windows as reported in https://www.mail-archive.com/kde-bugs-dist@kde.org/msg677905.html.",
        "- If you click the storage info widget on the right-bottom of the KDE Dolphin for Windows, you don't need to download the software that it will show because it doesn't change something even if you put the software under the system PATH.",
        "- If you want a somehow smooth experience of the KDE Dolphin for Windows, you can enable 'Delete' in 'Context Menu' under 'Configure Dolphin...'. But YOU SHOULD KNOW the 'Delete' can PERMANENTLY delete files."
    ],
    "architecture": {
        "64bit": {
            "url": "https://cdn.kde.org/ci-builds/system/dolphin/release-25.12/windows/dolphin-release_25.12-7047-windows-cl-msvc2022-x86_64.7z",
            "hash": "d41a2cbf759803f1aa90d7eebcb2b8dc8c796517cd83a6d9c3f77d60a64301cd"
        }
    },
    "bin": "bin\\dolphin.exe",
    "shortcuts": [
        [
            "bin\\dolphin.exe",
            "Dolphin"
        ]
    ],
    "checkver": {
        "script": [
            "$app_type = 'system'",
            "$path_filter = 'release-*/'",
            "$releases_url = 'https://cdn.kde.org/ci-builds/{1}/{0}/' -f $app, $app_type",
            "$version_sort = { if ($_.href -match '([\\d.]+)/$') { [version]$Matches[1] } }",
            "$releases_page = Invoke-WebRequest -Uri $releases_url -UseBasicParsing -ErrorAction Stop",
            "$path_segments = $releases_page.links | Where-Object { $_.href -like $path_filter } |",
            "        Sort-Object -Property $version_sort -Descending | ForEach-Object -MemberName href",
            "foreach ($path_segment in $path_segments.TrimEnd('/')) {",
            "    $release_url = 'https://cdn.kde.org/ci-builds/{1}/{0}/{2}/windows/' -f $app, $app_type, $path_segment",
            "    $download_page = Invoke-WebRequest -Uri $release_url -UseBasicParsing -ErrorAction Stop",
            "    $archive_name = $download_page.Links | Where-Object { $_.href -match '\\.7z$' } | Select-Object -ExpandProperty href -First 1",
            "    if ($archive_name -match '^\\S') { Write-Output $archive_name; break }",
            "}"
        ],
        "regex": "dolphin-release_([\\d.-]+)-windows-cl-(?<lib>\\w+)-x86_64\\.7z"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://cdn.kde.org/ci-builds/system/dolphin/release-$matchHead/windows/dolphin-release_$version-windows-cl-$matchLib-x86_64.7z",
                "hash": {
                    "url": "$url.sha256"
                }
            }
        }
    }
}
