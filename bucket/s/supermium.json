{
    "version": "138.0.7260.298-r8",
    "description": "An up-to-date Chromium-based web browser compatible with Windows Vista, 7 and 8.x.",
    "homepage": "https://win32subsystem.live/supermium/",
    "license": {
        "identifier": "BSD-3-Clause",
        "url": "https://github.com/win32ss/supermium/blob/HEAD/LICENSE"
    },
    "architecture": {
        "64bit": {
            "url": "https://github.com/win32ss/supermium/releases/download/v138-r8/supermium_138_64_setup_win10_11.exe",
            "hash": "143b38ab9ff0694a1f64e4772ddbf100b9f6f46348d01bd369a14a6069dd7d5c"
        },
        "32bit": {
            "url": "https://github.com/win32ss/supermium/releases/download/v138-r8/supermium_138_32_setup.exe",
            "hash": "3bed27fe67e603ba24f41fb28ef133760ea6ceff74aea7ee24e9ffe374d760a8"
        }
    },
    "installer": {
        "script": [
            "$argument_list = '-xr!$* -xr!uninst*'",
            "ensure \"$persist_dir\\User Data\" | Out-Null",
            "$original_data_dir = \"$env:LocalAppData\\Supermium\\User Data\"",
            "Expand-7zipArchive -Path \"$dir\\$fname\" -DestinationPath $dir -ExtractDir 'Supermium' -Switches $argument_list -Removal",
            "if (-not (Test-Path -Path \"$persist_dir\\User Data\\*\") -and (Test-Path -Path \"$original_data_dir\\*\")) {",
            "    Write-Host \"`nINFO  Migrating user data to '$persist_dir\\User Data'...\" -ForegroundColor darkgray",
            "    Copy-Item -Path \"$original_data_dir\\*\" -Destination \"$persist_dir\\User Data\" -Recurse",
            "}",
            "Remove-Item -Path \"$env:LocalAppData\\Supermium\" -Recurse -Force -ErrorAction SilentlyContinue"
        ]
    },
    "bin": [
        [
            "chrome.exe",
            "supermium",
            "--user-data-dir=\"$dir\\User Data\""
        ]
    ],
    "shortcuts": [
        [
            "chrome.exe",
            "Supermium",
            "--user-data-dir=\"$dir\\User Data\""
        ]
    ],
    "persist": "User Data",
    "checkver": {
        "url": "https://api.github.com/repositories/638089306/releases/latest",
        "script": [
            "$release = $page | ConvertFrom-Json -ErrorAction Stop",
            "Write-Output \"$($release.tag_name), $($release.name)\""
        ],
        "regex": "(?i)(?<tag>v?[\\d]+(?<suffix>-[^,]+)?),.+?(?<prefix>[\\d.]+)",
        "replace": "${prefix}${suffix}"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/win32ss/supermium/releases/download/$matchTag/supermium_$majorVersion_64_setup_win10_11.exe"
            },
            "32bit": {
                "url": "https://github.com/win32ss/supermium/releases/download/$matchTag/supermium_$majorVersion_32_setup.exe"
            }
        },
        "hash": {
            "url": "https://github.com/win32ss/supermium/releases/tag/$matchTag",
            "regex": "(?s)$basename.+?$checksum"
        }
    }
}
